<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>~/home</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            opacity: 0;
            pointer-events: none;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="left-container">
            <div class="time-and-weather">
                <div class="time" id="time">--:--</div>
                <div class="weather" id="weather">
                    <p id="weather"></p>
                    <script>
                        const weatherElement = document.querySelector('.weather');
                        const apiKey = '4a64cd55d1e84c01b99135356251904';
                        const city = 'Orlando';
                        const url = "https://api.weatherapi.com/v1/current.json?key=" + apiKey + "&q=" + city;

                        fetch(url)
                            .then(response => response.json())
                            .then(data => {
                                const weather = data.current.condition.text;
                                const temperature = data.current.temp_c;
                                const string = weather + ' ' + temperature + 'Â°C';
                                weatherElement.textContent = string;
                            })
                            .catch(error => console.error(error));
                    </script>
                </div>
            </div>

            <div class="gif">
                <img src="runrunrun.gif" />
            </div>
        </div>

        <div class="right-container">
            <div class="head">
                <p id="greeting">Hello, Noah<span class="blinking">_</span></p>
                <script>
                    const hour = new Date().getHours();
                    let greet = "Hello";
                    if (hour < 12) greet = "Good morning";
                    else if (hour < 18) greet = "Good afternoon";
                    else greet = "Good evening";
                    document.getElementById('greeting').innerHTML = `${greet}, Noah<span class="blinking">_</span>`;
                </script>
            </div>

            <div class="bookmarks">
                <div class="category">
                    <div class="links">
                        <li class="title">study</li>
                        <li><a href="https://notion.so">notion</a></li>
                        <li><a href="https://isaacphysics.org">isaac physics</a></li>
                        <li><a href="https://madasmaths.com">madasmaths</a></li>
                        <li><a href="https://physicsandmathstutor.com">pmt</a></li>
                    </div>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">miscellaneous</li>
                        <li><a href="https://gmail.com">gmail</a></li>
                        <li><a href="https://github.com/">github</a></li>
                        <li><a href="https://uk.finance.yahoo.com/markets/">stocks</a></li>
                        <li><a href="https://office.com">office 365</a></li>
                    </div>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">entertainment</li>
                        <li><a href="https://youtube.com">youtube</a></li>
                        <li><a href="https://spotify.com">spotify</a></li>
                        <li><a href="https://hdtodayz.to/">netflix</a></li>
                        <li><a href="https://www.bilibili.com/">bili bili</a></li>
                    </div>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">social media</li>
                        <li><a href="https://instagram.com">instagram</a></li>
                        <li><a href="https://x.com">X</a></li>
                        <li><a href="https://reddit.com">reddit</a></li>
                        <li><a href="https://snapchat.com">snapchat</a></li>
                    </div>
                </div>
            </div>

            <!-- Swapped Order: Web Search left, ChatGPT right -->
            <div class="search-toggle-container">
                <div class="search-toggle-buttons">
                    <button id="toggle-startpage" class="toggle-button active">Web Search</button>
                    <button id="toggle-chatgpt" class="toggle-button">ChatGPT</button>
                </div>

                <!-- Default to StartPage -->
                <form id="search-form" action="https://www.startpage.com/sp/search" method="get" target="_blank">
                    <input type="hidden" name="temporary-chat" value="true" id="temp-chat-flag" disabled />
                    <input type="text" name="query" placeholder="Search the web..." class="wolfram-input" id="search-input" />
                    <button type="submit" class="wolfram-button">Go</button>
                </form>

                <script>
                    const chatgptBtn = document.getElementById("toggle-chatgpt");
                    const startpageBtn = document.getElementById("toggle-startpage");
                    const form = document.getElementById("search-form");
                    const input = document.getElementById("search-input");
                    const tempFlag = document.getElementById("temp-chat-flag");

                    chatgptBtn.addEventListener("click", () => {
                        form.action = "https://chatgpt.com/";
                        input.name = "q";
                        input.placeholder = "Ask ChatGPT...";
                        tempFlag.disabled = false;
                        chatgptBtn.classList.add("active");
                        startpageBtn.classList.remove("active");
                    });

                    startpageBtn.addEventListener("click", () => {
                        form.action = "https://www.startpage.com/sp/search";
                        input.name = "query";
                        input.placeholder = "Search the web...";
                        tempFlag.disabled = true;
                        startpageBtn.classList.add("active");
                        chatgptBtn.classList.remove("active");
                    });
                </script>
            </div>
            <!-- END SWAP -->
        </div>
    </div>

    <script>
        function updateTime() {
            const now = new Date();
            const h = now.getHours().toString().padStart(2, '0');
            const m = now.getMinutes().toString().padStart(2, '0');
            const s = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('time').textContent = `${h}:${m}:${s}`;
        }
        updateTime();
        setInterval(updateTime, 1000);
    </script>
</body>

</html>
